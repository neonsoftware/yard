<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/iron-selector/iron-selector.html">
<link rel="import" href="bower_components/more-routing/more-routing.html">

<link rel="import" href="bower_components/cork/apps-home.html">
<link rel="import" href="bower_components/cork/apps-list.html">
<link rel="import" href="bower_components/cork/apps-detail.html">
<link rel="import" href="bower_components/cork/blocks-list.html">
<link rel="import" href="bower_components/cork/blocks-detail.html">
<link rel="import" href="bower_components/cork/templates-list.html">
<link rel="import" href="bower_components/cork/templates-detail.html">
<link rel="import" href="bower_components/cork/covers-list.html">
<link rel="import" href="bower_components/cork/covers-detail.html">
<link rel="import" href="bower_components/cork/covers-new.html">
<link rel="import" href="bower_components/cork/cork-badges.html">
<link rel="import" href="bower_components/cork/cork-language.html">
<link rel="import" href="bower_components/cork/apps-login.html">

<dom-module id="cork-app">

  <style>
  iron-selector > * {
    display: none;
  }
  iron-selector > .iron-selected {
    display: block;
  }

  </style>

  <template>


          <!--
          `more-route-selector` manages any element that extends `core-selector`,
          allowing you to associate each with a route. By default, it looks for
          the `route` attribute on each item in the `core-selector`. You can see
          an example of that default behavior in `polyfora-user.html`.

          In this example, we have opted to construct our base pages such that
          they declare _routing contexts_. Each element declares the route that it
          represents, and `more-route-selector` uses this to select the correct
          route to display.

          See each page's `<more-route context ...>`.
          -->

          <more-route-selector>
            <iron-selector on-iron-select="_onMenuSelect">

              <section>
                <more-route context name="root" params="{{params}}"></more-route>
                <apps-home  debug serverurl="http://rusty.blue/applications"></apps-home>
              </section>

              <section>
                <more-route context name="apps" params="{{params}}"></more-route>
                <apps-list  debug serverurl="http://rusty.blue/applications"></apps-list>
              </section>

              <apps-detail debug serverurl="http://rusty.blue/applications"></apps-detail>

              <blocks-list  debug serverurl="http://rusty.blue/pieces"></blocks-list>
              <blocks-detail debug serverurl="http://rusty.blue/pieces"></blocks-detail>
              <templates-list debug  serverurl="http://rusty.blue/categories"></templates-list>
              <templates-detail debug serverurl="http://rusty.blue/categories" templateserverurl="http://rusty.blue/pieces"></templates-detail>
              <covers-list  debug serverurl="http://rusty.blue/documents"></covers-list>
              <covers-detail debug serverurl="http://rusty.blue/documents" templateserverurl="http://rusty.blue/categories"></covers-detail>
              <covers-new debug serverurl="http://rusty.blue/categories"></covers-new>

              <section>
                <more-route context name="login"></more-route>
                <apps-login  debug loginurl="http://rusty.blue/simplelogin"></apps-login>
              </section>

            </iron-selector>
          </more-route-selector>

  </template>

  <script>

    Polymer({

      is: 'cork-app',

      /**
       * Navigates to the root URL, in response to a tap on the home "link".
       */
      _onTapHome: function(event) {
        // If you wish to navigate imperatively, `MoreRouting.navigateTo` is the
        // way to go:
        MoreRouting.navigateTo('root');
        event.preventDefault();
      },

      _onMenuSelect : function() {
        var drawerPanel = document.querySelector('#paperDrawerPanel');
        if (drawerPanel.narrow) {
          drawerPanel.closeDrawer();
        }
      }

    });

  </script>

</dom-module>
