server {
    listen 80;
    server_name example.org;
    access_log  /var/log/nginx/example.log;

    location /static/admin {
        alias /home/ubuntu/applicationsyard/venv/lib/python2.7/site-packages/django/contrib/admin/static/admin/;
    }

    location /static/ {
        alias /home/ubuntu/applicationsyard/runtime_files/static/;
    }

    location / {
        proxy_pass http://127.0.0.1:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }
}

#upstream app_server_djangoapp {
#    server localhost:8000 fail_timeout=0; 
#}
#
#server {
#    #EC2 instance security group must be configured to accept http connections over Port 80 
#    listen 80;
#    #server_name yourdomain.com;
#    server_name ec2-54-196-107-107.compute-1.amazonaws.com
#
#    access_log  /home/ubuntu/runtime_files/ngix/guni-access.log;
#    error_log  /home/ubuntu/runtime_files/ngix/guni-error.log info;
#
#    keepalive_timeout 5;
#
#    # path for static files
#    root /home/ubuntu/runtime_files/static;
#
#    location / {
#        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
#        proxy_set_header Host $http_host;
#        proxy_redirect off;
#
#        if (!-f $request_filename) {
#            proxy_pass http://app_server_djangoapp;
#            break;
#        }
#    }
#}
#

